%!TEX root = ../dokumentation.tex
\chapter{Diskussion}

In diesem fünften Kapitel wird das Ergebnis aus Kapitel 4 mit den gestellten Kriterien in Kapitel \ref{kriterienformulierung} in Bezug gesetzt. Somit wird die Frage beantwortet, ob das Projekt erfolgreich verlaufen ist und ebenfalls wird es eine Evaluierung geben, die als Ziel hat die optimalen Parameter der KI zu ermitteln.

Neben der Evaluierung und der Kriterienerfüllung, wird ein Ausblick bezüglich des Projektes und mögliche zukünftige Ziele gegeben.

\section{Evaluation}\label{evaluation}
Ein in Kapitel \ref{kriterienformulierung} gesetztes Ziel setzt einen bestimmten Elo-Wert für die zu entwickelnde Schach-KI voraus. Damit die Schachfähigkeiten der KI verbessert werden können gibt es sogenannte Evaluierungsfunktionen, die als Stellschrauben für die KI dienen. Hierbei beschreiben diese Stellschrauben verschiedene Eigenschaften auf, die geachtet werden müssen und somit die KI bei der Evaluierung des besten Zuges beeinflussen. 

Dabei werden Parameter wie die maximale Zugtiefe, die angibt wie viele Züge und deren Auswirkung in die Zukunft berechnet werden soll, verwendet, um einen bestmöglichen Zug für die aktuelle Spielsituation zu erhalten. Der Clou dieser Parameter ist, dass die KI anhand der Parameter restringiert wird und ihre Berechnungen mit bestimmten Werten beginnt.

Dies wird anschaulicher an einem Beispiel, das von dem Parameter \texttt{KING\_SAFETY\_FACTOR} handelt. Dieser Faktor beeinflusst die Berechnung der Sicherheit eines Königs anhand der Königszone (näheres dazu in Kapitel \ref{defense_evaluation}), indem der Wert der Königszone durch den Faktor \texttt{KING\_SAFETY\_FACTOR} erhöht wird und somit die KI bei einem niedrigeren Wert Züge auswählt, die die Sicherheit des Königs stärken soll und bei einem hohen Wert sich für Züge entscheidet, die weniger auf die Sicherheit des Königs ausgelegt sind.

Neben den bereits erläuterten Parameter für die Köngiszonen-Sicherheit und der Tiefe der zu evaluierenden Züge, gibt es weitere Stellschrauben, die für die Gewichtung des Materialwerts, den Wert der angegriffenen Steine, die Positionierung der Steine in Bezug auf ein Bauernschild, die Sicherheit des gegnerischen Königs und die Wichtigkeit von in vergangenen Spielen durchgeführte Züge, die zu einem Sieg führten, wichtig sind.

Der Verlauf eines Schachspiels kann ich drei verschieden Bereiche unterteilt werden. Zuerst befinden sich die Spieler in dem Eröffnungsspiel, bevor sie sich nach einigen Zügen im Hauptspiel befinden und am Ende das Spiel im Endspiel entschieden wird. Jede dieser Phasen während des Spielverlaufs besitzen die oben genannten Parameter. Hierbei unterscheiden sich die Parameter häufig von Phase zu Phase. Ein Beispiel für die Unterschiedliche Gewichtung der Parameter pro Phase ist die Historie der vergangenen Züge und deren Gewichtung. Im Eröffnungsspiel kann die Historie gut genutzt werden, da zu Beginn eines Spiels häufig die gleichen Züge genutzt werden, um eine möglichst gute Startposition in das Spiel zu erhalten. Im weiteren Verlauf des Spiels steigt die Anzahl der Möglichkeiten der verschiedenen Züge stark an und es kommt dazu, dass oft ein Zug noch nicht in einem vergangenen Spiel verwendet wurde und somit darüber keine Informationen vorhanden sind, ob dieser Zug vielversprechend für einen Sieg ist. Daraus resultiert, dass der Parameter der Historie in der zweiten und dritten Phase des Spiels weniger stark gewichtet werden sollte und die Wichtigkeit anderer Parameter, die für diese Phase essenzieller sind, stärker gewichtet werden. Analog dazu ist es bei den anderen Stellschrauben und dies führt dazu, dass jede Phase ihre eigenen Parameter benötigt. 

% Wie steht die KI zu anderen KIs
% Wie messe ich die Evaluierung
% Was soll bei der Evaluierung gemessen werden
% Wie setzte ich sie in Kontext und vergleiche die Messungen

% Zeit messen der Evaluierung um herauszufinden welche Fkt am längsten braucht
% Evalueriungsfunktionen-Faktoren durch Evaluierung optimal definieren

\section{Kriterienerfüllung}
Am Ende der wissenschafltichen Arbeit muss evaluiert werden, ob das Projekt und die in Kapitel \ref{kriterienformulierung} gestellten Kriterien erfüllt wurden. Auf der Basis dieser Informationen kann entschieden werden, ob das Ziel dieser wissenschaftlichen Arbeit erfolgreich abgeschlossen werden konnte.

Es wurde eine Lösung entwickelt, die es ermöglicht das Spiel Schach gegen eine KI zu spielen. Dabei wurde die KI auf der Basis der in Kapitel \ref{theoretische_hintergründe} eingeführten Algorithmen realisiert.

Die Interaktion mit der Schach KI verläuft über eine Konsole mit einer ASCII-Ausgabe, die ein Schachbrett simuliert. Ebenfalls zeichnet sich der Code durch eine gute Dokumentation und ein solides beliebig erweiterbares Grundgerüst aus.

Das Projekt wurde neben den gestellten Anforderungen um einige weitere nutzvolle Eigenschaften erweitert. Darunter zählt die Evaluierung und Implementierung der wichtigsten Funktionen in einem Jupyter Notebook, das dem Leser es ermöglicht den Code eigenhändig und einfach zu verändern und direkt das Ergebnis präsentiert zu bekommen. Ebenfalls enthalten diese Implementierungen in den Jupyter Notebooks detailreiche und strukturierte Erläuterungen.

In der Kriterienformulierung ist definiert, dass die KI einen Elo-Wert von mindestens 1000 besitzen muss. Da die vorliegende KI einen Schach KI mit dem Wert von 1200 schlagen konnte wurde dieses Ziel ebenfalls übererfüllt.

Ebenfalls wurde zusätzlich ein Dockercontainer erstellt, der es einem Nutzer der Schach KI ermöglicht schnell die Schach KI aufsetzen zu können ohne, dass dieser sich um die Installation diverser Python Pakete kümmern muss. Ein weiterer positiver Aspekt des Docker Containers ist es, dass die installierten Pakete und ebenfalls Python nur innerhalb des Containers installiert wird und diese somit keinen Problemen außerhalb des Containers bereiten können.

Zusätzlich zu den gestellten Anforderungen wurde die Schach KI bereits bei der Entwicklung der Architektur darauf ausgelegt beliebig erweitert zu werden. Dabei wurde bereits eine Schnittstelle für eine \acs{GUI} (Graphical User Interface) und eine \acs{API} (Application Programming Interface) vorbereitet.

Ebenfalls wurden die Anforderungen in der Anzahl der Evaluierungsfunktionen übertroffen, da neben den drei benötigten Funktionen die Schach KI um drei weitere ergänzt wurde und somit eine noch bessere Evaluierung der besten Züge vornehmen kann. Zu den drei zusätzlichen Evaluierungsfunktionen zählen die sogenannten Opening-Books, das Endspiel Datenbank und die Königszonen-Sicherheit.

Somit kann abschließend gesagt werden, dass das Projekt erfolgreich abgeschlossen wurde, da die gesetzten Ziele erreicht und teilweise übertroffen wurden.

\iffalse


zusätzlich:
Dockerfile
Jupyter Notebook mit live compiling und Erklärungen
Aus 3 wurden 6 Evaluierungsfunktionen
History, Materialbewertung und attackierte Figuren
Vorbereitete Schnittstelle für GUI und API
Opening Book und Closing

2. Entwicklung einer KI für das Schach-Spiel

Das Schachspiel ist in der westlichen Welt das am weitesten verbreitete Brett-Spiel. Ziel der Studienarbeit
ist die Entwicklung eines Schachprogramms. Das wesentliche Ziel bei der Entwicklung dieses Programms
besteht darin, die Wirkungsweise der im Rahmen der KI-Vorlesung vorgestellten Algorithmen zu demonstrieren.
Insbesondere wird es wichtig sein, zur Evaluation einer Stellung eine gute Heuristik
zu entwickeln. Bei der Entwicklung dieser Heuristik sollen Techniken des Machine-Learnings eingesetzt
werden.

Anforderungen:
Keine hohe ELO Zahl
klarer/cleaner Code
Techniken aus Vorlesung erkennbar
Tagebuch führen
Regelmäßige Treffen
ASCII Ausgabe
Grundgerüst aufgesetzt
Einfacher Evaluierungsprozess
\fi

\section{Erkenntnisgewinn und Zukunft}
Trotz des erfolgreichen Abschlusses des Projektes sind während der Umsetzung und des Testings einige Aspekte aufgefallen, die bei einer Umsetzung dazu führen, dass die Schach KI effizienter eingesetzt und insgesamt verbessert werden kann.

Darunter zählt die Entwicklung einer GUI, die es insgesamt ermöglicht eine Schachpartie übersichtlicher darzustellen und auch die Nutzung durch einen Laien unterstützt.

Ebenfalls ist es ein sinnvolles zukünftiges Ziel die Schach KI mit einer API auszustatten, die es ermöglicht diese gegen keine andere Künstliche Schach Intelligenz antreten zu lassen. In Verbindung mit diesem Aspekt, als auch separat eine sinnvolle Erweiterung, ist die Implementierung eines Machine Learning Algorithmus, der die Fähigkeiten der Schach KI mit jedem Spiel verbessert.

Durch eine intensivere und längere Bewertung der Evaluierungsfunktionen kann der Elo-Wert der Schach KI gesteigert werden und somit konkurrenzfähiger zu anderen Schach KI werden, bzw. auch gegen stärkere Schachspieler bestehen.

Wie bereits in Kapitel \ref{depth_limit} angesprochen kann durch die Verwendung des Algorithmus „quiescence search“ eine zusätzliche Evaluierungsfunktion implementiert werden, die abwägt, ob ein Zug tatsächlich gut ist und dieser Stein sich auch auf einer akzeptablen Position in den nächsten Zügen befindet.

Zusammenfassend kann gesagt werden, dass durch diverse Erweiterungen die Schach KI deutlich stärker werden kann.
